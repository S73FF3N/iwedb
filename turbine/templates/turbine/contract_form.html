{% extends "polls/base.html" %}
{% load static %}
{% load render_table from django_tables2 %}
{% load widget_tweaks %}

{% block title %}
    Add new Contract
{% endblock %}

{% block content %}
<div class="container">
    {% if messages %}
    <ul style="background-color:#ccffb3">
        {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    <form action="" method="post" enctype="multipart/form-data">{% csrf_token %}
        <div class="card">
            <div class="card-header">Add a new contract</div>
            <div class="card-body">
                <div class="card">
                    <div class="card-header">General</div>
                        <div class="card-body">
                            <div class="row">
                                <div class="form-group col-lg-8 col-md-8 col-sm-12 col-xs-12">
                                    {{ form.name.label_tag }}<br>
                                    {{ form.name.errors }}<br>
                                    {% render_field form.name class="form-control" %}
                                    <p class="help-text">{{ form.name.help_text }}</p>
                                </div>
                                <div class="form-group col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                    {{ form.file.label_tag }}<br>
                                    {{ form.file.errors }}<br>
                                    {% render_field form.file class="form-control" %}
                                    <p class="help-text">{{ form.file.help_text }}</p>
                                </div>
                                {% if request.path == '/turbine/add_contract/' %}
                                <div class="form-group col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                    {{ form.windfarm.label_tag }}<br>
                                    {{ form.windfarm.errors }}<br>
                                    {% render_field form.windfarm class="form-control" %}<br>
                                    <p class="help-text">{{ form.windfarm.help_text }}</p>
                                </div>
                                {% endif %}
                                <div class="form-group col-12">
                                    {{ form.turbines.label_tag }}<br>
                                    {{ form.turbines.errors }}<br>
                                    {% render_field form.turbines class="form-control" %}<br>
                                    <p class="help-text">{{ form.turbines.help_text }}</p>
                                </div>
                                <div class="form-group col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                    {{ form.actor.label_tag }}<br>
                                    {{ form.actor.errors }}<br>
                                    {% render_field form.actor class="form-control" %}
                                    <p class="help-text">{{ form.actor.help_text }}</p>
                                </div>
                                <div class="form-group col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                    {{ form.start_date.label_tag }}<br>
                                    {{ form.start_date.errors }}<br>
                                    {% render_field form.start_date class="form-control" %}
                                    <p class="help-text">{{ form.start_date.help_text }}</p>
                                </div>
                                <div class="form-group col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                    {{ form.end_date.label_tag }}<br>
                                    {{ form.end_date.errors }}<br>
                                    {% render_field form.end_date class="form-control" %}
                                    <p class="help-text">{{ form.end_date.help_text }}</p>
                                </div>
                                <div class="form-group col-lg-2 col-md-4 col-sm-6 col-xs-6">
                                    {{ form.average_remuneration.label_tag }}<br>
                                    {{ form.average_remuneration.errors }}<br>
                                    {% render_field form.average_remuneration class="form-control" %}
                                    <p class="help-text">{{ form.average_remuneration.help_text }}</p>
                                </div>
                            </div>
                        </div>
                </div>
                <div class="card">
                    <div class="card-header">Availability Guarantee</div>
                        <div class="card-body">
                            <div class="row">
                                <div class="form-group col-lg-2 col-md-4 col-sm-6 col-xs-6">
                                    {{ form.farm_availability.label_tag }}<br>
                                    {{ form.farm_availability.errors }}<br>
                                    {% render_field form.farm_availability class="form-control" %}
                                    <p class="help-text">{{ form.farm_availability.help_text }}</p>
                                </div>
                                <div class="form-group col-lg-2 col-md-4 col-sm-6 col-xs-6">
                                    {{ form.wtg_availability.label_tag }}<br>
                                    {{ form.wtg_availability.errors }}<br>
                                    {% render_field form.wtg_availability class="form-control" %}
                                    <p class="help-text">{{ form.wtg_availability.help_text }}</p>
                                </div>
                            </div>
                        </div>
                </div>
                <div class="card">
                    <div class="card-header">Scope</div>
                        <div class="card-body">
                            <div class="row">
                                <div class="card">
                                    <div class="card-header">Basis</div>
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="form-group col-6">
                                                    {{ form.remote_control.label_tag }}<br>
                                                    {{ form.remote_control.errors }}<br>
                                                    {% render_field form.remote_control class="form-control" %}
                                                    <p class="help-text">{{ form.remote_control.help_text }}</p>
                                                </div>
                                                <div class="form-group col-6">
                                                    {{ form.scheduled_maintenance.label_tag }}<br>
                                                    {{ form.scheduled_maintenance.errors }}<br>
                                                    {% render_field form.scheduled_maintenance class="form-control" %}
                                                    <p class="help-text">{{ form.scheduled_maintenance.help_text }}</p>
                                                </div>
                                            </div>
                                        </div>
                                </div>
                                <div class="card">
                                    <div class="card-header">Basis +</div>
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="form-group col-12">
                                                    {{ form.unscheduled_maintenance_personnel.label_tag }}<br>
                                                    {{ form.unscheduled_maintenance_personnel.errors }}<br>
                                                    {% render_field form.unscheduled_maintenance_personnel class="form-control" %}
                                                    <p class="help-text">{{ form.unscheduled_maintenance_personnel.help_text }}</p>
                                                </div>
                                            </div>
                                        </div>
                                </div>
                                <div class="card">
                                    <div class="card-header">VWoGK</div>
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="form-group col-12">
                                                    {{ form.unscheduled_maintenance_material.label_tag }}<br>
                                                    {{ form.unscheduled_maintenance_material.errors }}<br>
                                                    {% render_field form.unscheduled_maintenance_material class="form-control" %}
                                                    <p class="help-text">{{ form.unscheduled_maintenance_material.help_text }}</p>
                                                </div>
                                            </div>
                                        </div>
                                </div>
                                <div class="card">
                                    <div class="card-header">VWmGK</div>
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="form-group col-6">
                                                    {{ form.main_components.label_tag }}<br>
                                                    {{ form.main_components.errors }}<br>
                                                    {% render_field form.main_components class="form-control" %}
                                                    <p class="help-text">{{ form.main_components.help_text }}</p>
                                                </div>
                                                <div class="form-group col-6">
                                                    {{ form.rotor_excluded.label_tag }}<br>
                                                    {{ form.rotor_excluded.errors }}<br>
                                                    {% render_field form.rotor_excluded class="form-control" %}
                                                    <p class="help-text">{{ form.rotor_excluded.help_text }}</p>
                                                </div>
                                            </div>
                                        </div>
                                </div>
                                <div class="card">
                                    <div class="card-header">Options</div>
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="form-group col-lg-2 col-md-4 col-sm-6 col-xs-6">
                                                    {{ form.external_damages.label_tag }}<br>
                                                    {{ form.external_damages.errors }}<br>
                                                    {% render_field form.external_damages class="form-control" %}
                                                    <p class="help-text">{{ form.external_damages.help_text }}</p>
                                                </div>
                                                <div class="form-group col-lg-2 col-md-4 col-sm-6 col-xs-6">
                                                    {{ form.service_lift_maintenance.label_tag }}<br>
                                                    {{ form.service_lift_maintenance.errors }}<br>
                                                    {% render_field form.service_lift_maintenance class="form-control" %}
                                                    <p class="help-text">{{ form.service_lift_maintenance.help_text }}</p>
                                                </div>
                                                <div class="form-group col-lg-2 col-md-4 col-sm-6 col-xs-6">
                                                    {{ form.additional_maintenance.label_tag }}<br>
                                                    {{ form.additional_maintenance.errors }}<br>
                                                    {% render_field form.additional_maintenance class="form-control" %}
                                                    <p class="help-text">{{ form.additional_maintenance.help_text }}</p>
                                                </div>
                                                <div class="form-group col-lg-2 col-md-4 col-sm-6 col-xs-6">
                                                    {{ form.rotor_blade_inspection.label_tag }}<br>
                                                    {{ form.rotor_blade_inspection.errors }}<br>
                                                    {% render_field form.rotor_blade_inspection class="form-control" %}
                                                    <p class="help-text">{{ form.rotor_blade_inspection.help_text }}</p>
                                                </div>
                                                <div class="form-group col-lg-2 col-md-4 col-sm-6 col-xs-6">
                                                    {{ form.videoendoscopic_inspection_gearbox.label_tag }}<br>
                                                    {{ form.videoendoscopic_inspection_gearbox.errors }}<br>
                                                    {% render_field form.videoendoscopic_inspection_gearbox class="form-control" %}
                                                    <p class="help-text">{{ form.videoendoscopic_inspection_gearbox.help_text }}</p>
                                                </div>
                                                <div class="form-group col-lg-2 col-md-4 col-sm-6 col-xs-6">
                                                    {{ form.safety_inspection.label_tag }}<br>
                                                    {{ form.safety_inspection.errors }}<br>
                                                    {% render_field form.safety_inspection class="form-control" %}
                                                    <p class="help-text">{{ form.safety_inspection.help_text }}</p>
                                                </div>
                                                <div class="form-group col-lg-2 col-md-4 col-sm-6 col-xs-6">
                                                    {{ form.safety_repairs.label_tag }}<br>
                                                    {{ form.safety_repairs.errors }}<br>
                                                    {% render_field form.safety_repairs class="form-control" %}
                                                    <p class="help-text">{{ form.safety_repairs.help_text }}</p>
                                                </div>
                                                <div class="form-group col-lg-2 col-md-4 col-sm-6 col-xs-6">
                                                    {{ form.certified_body_inspection_service_lift.label_tag }}<br>
                                                    {{ form.certified_body_inspection_service_lift.errors }}<br>
                                                    {% render_field form.certified_body_inspection_service_lift class="form-control" %}
                                                    <p class="help-text">{{ form.certified_body_inspection_service_lift.help_text }}</p>
                                                </div>
                                                <div class="form-group col-lg-2 col-md-4 col-sm-6 col-xs-6">
                                                    {{ form.pressure_vessels.label_tag }}<br>
                                                    {{ form.pressure_vessels.errors }}<br>
                                                    {% render_field form.pressure_vessels class="form-control" %}
                                                    <p class="help-text">{{ form.pressure_vessels.help_text }}</p>
                                                </div>
                                                <div class="form-group col-lg-2 col-md-4 col-sm-6 col-xs-6">
                                                    {{ form.periodic_inspection_wtg.label_tag }}<br>
                                                    {{ form.periodic_inspection_wtg.errors }}<br>
                                                    {% render_field form.periodic_inspection_wtg class="form-control" %}
                                                    <p class="help-text">{{ form.periodic_inspection_wtg.help_text }}</p>
                                                </div>
                                                <div class="form-group col-lg-2 col-md-4 col-sm-6 col-xs-6">
                                                    {{ form.electrical_inspection.label_tag }}<br>
                                                    {{ form.electrical_inspection.errors }}<br>
                                                    {% render_field form.electrical_inspection class="form-control" %}
                                                    <p class="help-text">{{ form.electrical_inspection.help_text }}</p>
                                                </div>
                                            </div>
                                        </div>
                                </div>
                            </div>
                        </div>
                </div>
                <button type="submit" value="Save" class="btn btn-primary  pull-left">
                    <i class="fa fa-upload"></i> Submit
                </button>
            </div>
        </div>
    </form>
</div>
{% endblock %}