{% extends "events/change-all-dates.html" %}
{% load static %}
{% load widget_tweaks %}
{% load i18n %}

{% block next_dates_field %}
<div id="next_dates_based_on_execution_date_field" class="form-group col-6">
    {{ form.next_dates_based_on_execution_date.label_tag }}<br>
    <p class="required">{{ form.next_dates_based_on_execution_date.errors.as_text }}</p>
    {% render_field form.next_dates_based_on_execution_date class="form-control" %}
    <p class="help-text">{{ form.next_dates_based_on_execution_date.help_text }}</p>
</div>
{% endblock %}

{% block next_dates_javascript %}
<script type="text/javascript">
var next_dates_based_on_execution_date_field = $("#next_dates_based_on_execution_date_field");
var status = $("#id_status").val();
if (status == "durchgeführt" || status == "Bericht erhalten" || status == "Rechnung erhalten" || status == "abgeschlossen" || status == "executed" || status == "report received" || status == "invoice received" || status == "closed") {
    next_dates_based_on_execution_date_field.show();
} else {
    next_dates_based_on_execution_date_field.hide();
};

$("#id_status").change(function () {
    var next_dates_based_on_execution_date_field = $("#next_dates_based_on_execution_date_field");
    var status = $("#id_status").val();
    if (status == "durchgeführt" || status == "Bericht erhalten" || status == "Rechnung erhalten" || status == "abgeschlossen" || status == "executed" || status == "report received" || status == "invoice received" || status == "closed") {
        next_dates_based_on_execution_date_field.show();
    } else {
        next_dates_based_on_execution_date_field.hide();
    };
});
</script>
{% endblock %}